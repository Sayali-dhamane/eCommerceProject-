<app-header></app-header>

<div class="max-w-7xl mx-auto px-4 py-8">

  <!-- Title -->
  <h2 class="text-3xl font-bold text-gray-900 mb-6">Products</h2>

  <!-- Category Filter -->
  <div class="mb-6">
    <label for="category" class="block text-sm font-medium text-gray-700 mb-1">Filter by Category</label>
    <select
      id="category"
      class="block w-full sm:w-64 px-4 py-2 border border-gray-300 rounded-lg
             shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500
             focus:border-indigo-500"
      (change)="onCategoryChange($event)"
    >
      <option value="">All Categories</option>
      <option *ngFor="let cat of categories" [value]="cat">
        {{ cat | titlecase }}
      </option>
    </select>
  </div>
 
  <!-- Loader -->
  <app-loader *ngIf="loading" class="flex justify-center my-10"></app-loader>
 <!-- Error Message -->
  <p *ngIf="error()" class="text-red-600 text-lg py-4">
    {{ error() }}
  </p>
  <!-- Products Grid -->
  <div *ngIf="!loading && !error()"
     class="grid gap-6 sm:grid-cols-2 md:grid-cols-3">
  <app-product-card
    *ngFor="let p of products"
    [product]="p"
    (click)="openDetails(p.id)"
    class="cursor-pointer hover:shadow-lg transition rounded-lg"
  >
  </app-product-card>
</div>


</div>
